

<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>المهندس  الحرفي</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; font-family: 'Tajawal', sans-serif; }
body { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); display: flex; align-items: center; justify-content: center; }
.container { width: 100%; max-width: 1200px; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
h1 { text-align: center; color: #2c3e50; margin-bottom: 20px; font-size: 2rem; }
textarea { width: 100%; height: 150px; padding: 15px; border: 2px solid #3498db; border-radius: 10px; resize: vertical; }
.display-area { width: 100%; background: #f8f9fa; border-radius: 10px; margin: 20px 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
#currentChar { font-size: 2.5rem; color: #2c3e50; }
.char-image { width: 100px; height: auto; margin-top: 10px; }
button { padding: 12px 25px; font-size: 1rem; border: none; border-radius: 8px; background: #3498db; color: white; cursor: pointer; transition: 0.3s; }
button:hover { background: #2980b9; transform: translateY(-2px); }
#geometrycanvas43 { width: 100%; height: 200px; background-color: #f1f1f1; border-radius: 10px; box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1); direction: ltr !important; }
@media (max-width: 768px) { textarea { font-size: 0.9rem; } button { font-size: 0.9rem; } h1 { font-size: 1.5rem; } }
</style>
</head>
<body>
<div class="container">
<h1> هندسة الحروف النورانية القرآن الكريم  الجامع الشامل (عليون) </h1>
<div>
<label>
<input type="checkbox" id="toggleRepeat" />
تفعيل تكرار الحروف بناءً على القيم(الشامل عليون)
</label>
</div>

<textarea id="textInput" placeholder="اكتب النص العربي هنا..."></textarea>
<canvas id="geometrycanvas43"></canvas43>

<div class="display-area" id="displayArea">
<div id="currentChar"></div>
<img id="charImage" class="char-image" src="" alt="" style="display:none;">
</div>
</div>

<script>
const notes = {
  'أ': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'آ': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'إ': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'ا': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'ؤ': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'ء': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'ئ': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'ى': { value: '13', color: 'hsl(0, 70%, 50%)' },      // أحمر
  'ل': { value: '13', color: 'hsl(30, 70%, 50%)' },     // برتقالي
  'ر': { value: '6', color: 'hsl(60, 70%, 50%)' },      // أصفر
  'ك': { value: '1', color: 'hsl(120, 70%, 50%)' },     // أخضر
  'ه': { value: '2', color: 'hsl(180, 70%, 50%)' },     // تركواز
  'ي': { value: '2', color: 'hsl(240, 70%, 50%)' },     // أزرق
  'ع': { value: '2', color: 'hsl(270, 70%, 50%)' },     // بنفسجي
  'ص': { value: '3', color: 'hsl(300, 70%, 50%)' },     // أرجواني
  'ط': { value: '4', color: 'hsl(360, 70%, 50%)' },     // وردي
  'س': { value: '5', color: 'hsl(20, 70%, 50%)' },      // ذهبي
  'ح': { value: '7', color: 'hsl(75, 70%, 50%)' },      // أخضر فاتح
  'م': { value: '17', color: 'hsl(200, 70%, 50%)' },    // أزرق فاتح
  'ق': { value: '2', color: 'hsl(150, 70%, 50%)' },     // أخضر مائل للأزرق
  'ن': { value: '1', color: 'hsl(285, 70%, 50%)' }      // بنفسجي مائل للأزرق
};
const canvas43 = document.getElementById('geometrycanvas43');
const ctx43 = canvas43.getContext('2d');
const textInput = document.getElementById('textInput');
const toggleRepeat = document.getElementById('toggleRepeat');

function resizecanvas43() {
canvas43.width = canvas43.offsetWidth;
canvas43.height = canvas43.offsetHeight;
}

function generateTextBasedOnRepeat() {
const input = textInput.value.trim();
let output = '';
for (let char of input) {
if (notes[char] && toggleRepeat.checked) {
output += char.repeat(Number(notes[char].value));
} else {
output += char;
}
}
return output;
}
// const notes = {
//   'أ': { value: '13', color: 'hsl(0, 70%, 60%)' },
//   'ل': { value: '13', color: 'hsl(24, 70%, 60%)' },
//   'ر': { value: '6', color: 'hsl(48, 70%, 60%)' },
//   'ك': { value: '1', color: 'hsl(72, 70%, 60%)' },
//   // إضافة بقية الأحرف بنفس الطريقة
// };

function generateGeometricVisualization() {
  resizecanvas43();
  ctx43.clearRect(0, 0, canvas43.width, canvas43.height);

  const input = generateTextBasedOnRepeat();
  const points = [];

  for (let i = 0; i < input.length; i++) {
    const char = input[i];
    if (notes[char]) {
      const x = canvas43.width - ((i + 1) * (canvas43.width / (input.length + 1)));
      const y = canvas43.height - (Number(notes[char].value) * (canvas43.height / 30));

      points.push({ x, y, char });

      ctx43.beginPath();
      ctx43.arc(x, y, 8, 0, Math.PI * 2);
      ctx43.fillStyle = notes[char].color; // استخدام اللون المحدد للحرف
      ctx43.fill();

      ctx43.fillStyle = '#000';
      ctx43.font = '14px Tajawal';
      ctx43.textAlign = 'center';
      ctx43.textBaseline = 'middle';
      ctx43.fillText(char, x, y);
    }
  }

  if (points.length > 1) {
    ctx43.beginPath();
    ctx43.moveTo(points[0].x, points[0].y);
    for (let i = 1; i < points.length; i++) {
      ctx43.lineTo(points[i].x, points[i].y);
    }
    ctx43.strokeStyle = 'gray';
    ctx43.lineWidth = 1.5;
    ctx43.setLineDash([5, 5]);
    ctx43.stroke();
    ctx43.setLineDash([]);
  }
}
toggleRepeat.addEventListener('change', generateGeometricVisualization);
textInput.addEventListener('input', generateGeometricVisualization);
resizecanvas43();
window.addEventListener('resize', resizecanvas43);
</script>
</body>
</html>

